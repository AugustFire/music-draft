# 1.通信协议
## 1.TCP/IP 四层网络分层模型
```txt
1.应用层:  客户端发送->    http://www.xxx.com

            ↓

2.传输层:      TCP头|HTTP报文

            ↓
            
3.网络层:      IP头|TCP头|HTTP报文

            ↓
            
4.数据链路层:    MAC头|IP头|TCP头|HTTP报文

            ↓
            
5.物理层:      ---  0101010101010  ---->
```
网络传输过程可以理解为打包快递/拆快递的过程  
说明:
- 传输层的TCP头包含目标的端口号(确定监听端口的PID)
- IP头包含了源Ip和目标Ip
- 一个IP可能对于多个网卡(MAC地址)
## 2.三次握手/四次挥手

三次握手  
![网络截图](https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3233953725,3136815440&fm=173&app=25&f=JPEG?w=580&h=708&s=FD843C720B1A764D52D554DA0000E0B1)
```text
Client   <----数据包---->     Server
客户端: 你准备好了吗?    [第一次握手]
服务端: 我准备好了! 你准备好了吗? [这两个动作合成一个!第二次握手]
客户端: 我准备好!          [第三次握手](SYN攻击,在这里不回复服务端ACK)
```
四次挥手  
![网络截图](https://img-blog.csdn.net/20180717204202563?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTUwMzE2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
为啥四次?  
服务端收到关闭'请求后',先回复一个ACK表示收到,然后需要自己进程关闭这个连接的数据处理,所以还会再次发ack表示已经关闭所有处理

# HTTP协议
```text
Https通信原理:  
    使用非对称加密算法协商加密算法!
    客户端下载CA证书(证书为CA机构私钥加密的服务端公钥)获取公钥,
    获取服务端公钥后,使用公钥加密一个随机数 用来协商 对称加密算法
 1.客户端下载了证书如何获取服务端公钥?
    操作系统内置了CA机构的公钥,解密证书,校验合法性,然后获取服务端公钥
```

